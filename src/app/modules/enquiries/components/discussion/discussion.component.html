<div class="p-3">
  <div
    class="w-full h-full bg-color-dark px-5 flex flex-col justify-between rounded-xl"
  >
    <div class="flex flex-col mt-5">
      <div *ngFor="let message of discussions$ | async">
        <div
          class="flex justify-end mb-4"
          *ngIf="(user$ | async)?._id === message.sender"
        >
          <div
            class="mr-2 py-3 px-4 bg-gray-500 rounded-bl-3xl rounded-tl-3xl rounded-tr-xl text-white"
          >
            {{ message.message }}
          </div>
          <img
            src="https://source.unsplash.com/vpOeXr5wmR4/600x600"
            class="object-cover h-8 w-8 rounded-full"
            alt=""
          />
        </div>
        <div
          class="flex justify-start mb-4"
          *ngIf="(user$ | async)?._id !== message.sender"
        >
          <img
            src="https://source.unsplash.com/vpOeXr5wmR4/600x600"
            class="object-cover h-8 w-8 rounded-full"
            alt=""
          />
          <div
            class="ml-2 py-3 px-4 bg-pink-700 bg-opacity-50 rounded-br-3xl rounded-tr-3xl rounded-tl-xl text-white"
          >
            {{ message.message }}
          </div>
        </div>
      </div>

      <form #chatForm="ngForm" (ngSubmit)="onSubmit(chatForm.value)">
        <div class="flex justify-center items-center w-full m-3 gap-2">
          <mat-form-field class="-mb-5 w-full" appearance="outline">
            <mat-label>Enter Message</mat-label>
            <input matInput name="message" ngModel />
          </mat-form-field>
          <button mat-mini-fab color="primary">
            <mat-icon>send</mat-icon>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
